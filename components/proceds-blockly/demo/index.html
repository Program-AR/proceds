<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Proceds Blockly - Demo</title>
  <script src="../blockly-package/blockly_compressed.js"></script>
  <script src="../blockly-package/blocks_compressed.js"></script>
  <script src="../blockly-package/es.js"></script>
  <script src="../blockly-package/javascript_compressed.js"></script>
  <script src="proceds-blockly.js"></script>
</head>
<body>
  <h1><a href="https://program.ar">Program.AR</a> -
    Procedures for Blockly </h1>

  <p>This is a simple demo for new Procedures for Blockly</p>

  <div id="blocklyDiv" style="height: 480px; width: 600px;"></div>

  <xml id="toolbox" style="display: none">
    <category name="Procedures">
      <block type="proced_pretty_def"></block>
    </category>
    <category name="Other blocks">
      <block type="controls_if"></block>
      <block type="logic_compare"></block>
      <block type="controls_repeat_ext"></block>
      <block type="math_number"></block>
      <block type="math_arithmetic"></block>
      <block type="text"></block>
      <block type="text_print"></block>
    </category>
  </xml>

  <p><button id="generatebtn">Generate Code</button></p>
  <textarea id="code" rows="20" cols="80"></textarea>

  <script>
    var workspace = Blockly.inject('blocklyDiv',
        {media: 'bower_components/blockly-package/media/',
         toolbox: document.getElementById('toolbox')});

   document.querySelector('#generatebtn').addEventListener('click', function() {
     document.getElementById("code").innerHTML = Blockly.JavaScript.workspaceToCode(workspace);
   });
  </script>

</body>
</html>
